<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/css/map.css">
    <script src="/js/room-type.js"></script>
</head>
<body>
<!-- 地址輸入 -->
<label for="addressInput">輸入房屋地址：</label>
<input type="text" id="addressInput" name="addressInput" placeholder="輸入地址">
<button type="button" onclick="geocodeAddress()">查詢</button>

<div id="map" style="height: 400px; width: 100%;"></div>

<label for="houseName">房屋名稱:</label>
<input type="text" id="houseName" placeholder="輸入房屋名稱">

<!-- 隱藏的經緯度欄位 -->
<input type="hidden" id="neLat" name="neLat">
<input type="hidden" id="neLng" name="neLng">

<!-- 可提供房間 -->
<div id="availableRooms">
    <h2>可提供房間</h2>
    <div class="room">
        <label for="roomType2">選擇房型：</label>
        <select id="roomType2" name="roomType">
            <!-- 房型選項將動態加載 -->
        </select>
        <label for="price1">價格:</label>
        <input type="number" id="price1" placeholder="12000">
    </div>
    <button type="button" onclick="addRoom()">新增房間</button>
</div>

<!-- 目前的室友 -->
<div id="currentRoommates">
    <h2>目前的室友</h2>
    <div class="roommate">
        <!--        <label for="roommateType1">房型:</label>-->
        <!--        <input type="text" id="roommateType1" placeholder="單人房">-->
        <label for="roomType3">選擇房型：</label>
        <select id="roomType3" name="roomType">
            <!-- 房型選項將動態加載 -->
        </select>
        <label for="description1">描述:</label>
        <input type="text" id="description1" placeholder="男，學生，安靜">
    </div>
    <button type="button" onclick="addRoommate()">新增室友</button>
</div>

<!-- 房屋詳細資料 -->
<h2>房屋詳細資料</h2>
<label for="petAllowed">允許寵物:</label>
<select id="petAllowed">
    <option value="true">是</option>
    <option value="false">否</option>
</select>

<label for="rentalPeriod">租期:</label>
<input type="text" id="rentalPeriod" placeholder="12個月">

<label for="sharedSpaces">共用空間:</label>
<input type="text" id="sharedSpaces" placeholder="客廳, 廚房, 衛浴">

<label for="amenities">設施:</label>
<input type="text" id="amenities" placeholder="冷氣, 冰箱, 洗衣機">

<label for="additionalFees">額外費用:</label>
<input type="text" id="additionalFees" placeholder="水電費, 網路費">

<label for="nearbyFacilities">附近設施:</label>
<input type="text" id="nearbyFacilities" placeholder="便利商店, 超市, 公園">

<label for="other">其他資訊:</label>
<textarea id="other" placeholder="維修政策: 每月檢查; 訪客限制: 訪客必須登記"></textarea>

<button type="button" onclick="submitForm()">提交</button>

<!-- 用於存放動態生成房間和室友的數量 -->
<div id="roomCount" style="display: none;"></div>
<div id="roommateCount" style="display: none;"></div>

<script th:inline="javascript">
    var apiKey = /*[[${googleMapsApiKey}]]*/ 'defaultKey';
    var script = document.createElement('script');
    script.src = 'https://maps.googleapis.com/maps/api/js?key=' + apiKey + '&callback=initMap&libraries=drawing&v=beta';
    script.defer = true;
    document.head.appendChild(script);
</script>
<script>
    loadRoomTypes('roomType2');
    loadRoomTypes('roomType3');
</script>
<script src="/js/rented.js"></script>
</body>
</html>