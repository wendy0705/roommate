<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=LXGW+WenKai+TC:wght@400;700&display=swap" rel="stylesheet">
    <title>室友偏好表單</title>
    <th:block th:replace="~{fragments/cssForm :: cssForm}"></th:block>
</head>
<body>
<div class="container">
    <div th:replace="~{fragments/sidebar :: sidebar}"></div>
    <div class="main-content">
        <div id="header-placeholder"></div>
        <h1>室友媒合平台</h1>
        <br>
        <div class="cat">
            <img src="https://roommatebucket.s3.ap-southeast-2.amazonaws.com/sitcat.png" alt="cat" width="50"
                 height="50"/>
        </div>
        <form id="preferencesForm">
            <!-- 是否同住 -->
            <div class="radio-group"
                 style="padding-bottom: 15px; margin-bottom: 15px; border-bottom: 1px solid #d3d3d3;">
                <h3>是否要與人同住一間房間：</h3>
                <label class="radio-option">
                    <input type="radio" name="share_room" value="1" checked>
                    <span class="radio-custom"></span>
                    <span>是</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="share_room" value="0">
                    <span class="radio-custom"></span>
                    <span>否</span>
                </label>
            </div>

            <!-- 特殊房屋狀況 -->
            <div class="checkbox-group"
                 style="padding-bottom: 15px; margin-bottom: 15px; border-bottom: 1px solid #d3d3d3;">
                <h3>可以接受房屋的特殊情況：</h3>
                <div>
                    <label class="checkbox-option">
                        <input type="checkbox" name="special_conditions[haunted_house]" value="1">
                        <span class="checkbox-custom"></span>
                        <span>凶宅</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="special_conditions[rooftop_extension]" value="1">
                        <span class="checkbox-custom"></span>
                        <span>頂加</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="special_conditions[illegal_building]" value="1">
                        <span class="checkbox-custom"></span>
                        <span>違建</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="special_conditions[basement]" value="1" checked>
                        <span class="checkbox-custom"></span>
                        <span>地下室</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="special_conditions[windowless]" value="1" checked>
                        <span class="checkbox-custom"></span>
                        <span>無窗</span>
                    </label>
                </div>
            </div>

            <div class="schedule-section">
                <h3 class="section-title">作息：</h3>
                <div class="schedule-content">
                    <div class="schedule-item">
                        <h4>平日作息</h4>
                        <div class="time-selection">
                            <label>睡眠時間：</label>
                            <select class="hour-select" name="schedule[weekday_sleep_hour]"></select>
                        </div>
                        <div class="time-selection">
                            <label>起床時間：</label>
                            <select class="hour-select" name="schedule[weekday_wake_hour]"></select>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <h4>假日作息</h4>
                        <div class="time-selection">
                            <label>睡眠時間：</label>
                            <select class="hour-select" name="schedule[weekend_sleep_hour]"></select>
                        </div>
                        <div class="time-selection">
                            <label>起床時間：</label>
                            <select class="hour-select" name="schedule[weekend_wake_hour]"></select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 按鈕展開自由填寫作息 -->
            <div class="custom-schedule-section"
                 style="padding-bottom: 15px; margin-bottom: 15px; border-bottom: 1px solid #d3d3d3;">
                <button type="button" id="customScheduleButton" onclick="toggleCustomSchedule()">自由填寫作息</button>

                <div id="customSchedule" class="hidden">
                    <div class="custom-schedule-grid">
                        <div class="day-schedule">
                            <h4>週一</h4>
                            <div class="time-selection">
                                <label>睡眠時間：</label>
                                <select class="hour-select" name="schedule[monday_sleep_hour]"></select>
                            </div>
                            <div class="time-selection">
                                <label>起床時間：</label>
                                <select class="hour-select" name="schedule[monday_wake_hour]"></select>
                            </div>
                        </div>

                        <div class="day-schedule">
                            <h4>週二</h4>
                            <div class="time-selection">
                                <label>睡眠時間：</label>
                                <select class="hour-select" name="schedule[tuesday_sleep_hour]"></select>
                            </div>
                            <div class="time-selection">
                                <label>起床時間：</label>
                                <select class="hour-select" name="schedule[tuesday_wake_hour]"></select>
                            </div>
                        </div>

                        <div class="day-schedule">
                            <h4>週三</h4>
                            <div class="time-selection">
                                <label>睡眠時間：</label>
                                <select class="hour-select" name="schedule[tuesday_sleep_hour]"></select>
                            </div>
                            <div class="time-selection">
                                <label>起床時間：</label>
                                <select class="hour-select" name="schedule[tuesday_wake_hour]"></select>
                            </div>
                        </div>

                        <div class="day-schedule">
                            <h4>週四</h4>
                            <div class="time-selection">
                                <label>睡眠時間：</label>
                                <select class="hour-select" name="schedule[tuesday_sleep_hour]"></select>
                            </div>
                            <div class="time-selection">
                                <label>起床時間：</label>
                                <select class="hour-select" name="schedule[tuesday_wake_hour]"></select>
                            </div>
                        </div>

                        <div class="day-schedule">
                            <h4>週五</h4>
                            <div class="time-selection">
                                <label>睡眠時間：</label>
                                <select class="hour-select" name="schedule[tuesday_sleep_hour]"></select>
                            </div>
                            <div class="time-selection">
                                <label>起床時間：</label>
                                <select class="hour-select" name="schedule[tuesday_wake_hour]"></select>
                            </div>
                        </div>

                        <div class="day-schedule">
                            <h4>週六</h4>
                            <div class="time-selection">
                                <label>睡眠時間：</label>
                                <select class="hour-select" name="schedule[tuesday_sleep_hour]"></select>
                            </div>
                            <div class="time-selection">
                                <label>起床時間：</label>
                                <select class="hour-select" name="schedule[tuesday_wake_hour]"></select>
                            </div>
                        </div>

                        <div class="day-schedule">
                            <h4>週日</h4>
                            <div class="time-selection">
                                <label>睡眠時間：</label>
                                <select class="hour-select" name="schedule[tuesday_sleep_hour]"></select>
                            </div>
                            <div class="time-selection">
                                <label>起床時間：</label>
                                <select class="hour-select" name="schedule[tuesday_wake_hour]"></select>
                            </div>
                        </div>
                        <!-- 重複相同的結構為週三到週日 -->

                    </div>
                </div>
            </div>

            <!-- 開伙地點 -->
            <div class="radio-group"
                 style="padding-bottom: 15px; margin-bottom: 15px; border-bottom: 1px solid #d3d3d3;">
                <h3>在家開伙：</h3>
                <label class="radio-option">
                    <input type="radio" name="cooking_location" value="1">
                    <span class="radio-custom"></span>
                    <span>會開伙</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="cooking_location" value="0" checked>
                    <span class="radio-custom"></span>
                    <span>不會開伙</span>
                </label>
            </div>

            <!-- 用餐地點 -->
            <div class="radio-group"
                 style="padding-bottom: 15px; margin-bottom: 15px; border-bottom: 1px solid #d3d3d3;">
                <h3>用餐地點：</h3>
                <label class="radio-option">
                    <input type="radio" name="dining_location" value="1" checked>
                    <span class="radio-custom"></span>
                    <span>會在家用餐</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="dining_location" value="0">
                    <span class="radio-custom"></span>
                    <span>不會在家用餐</span>
                </label>
            </div>

            <!-- 用餐習慣 -->
            <div class="checkbox-group"
                 style="padding-bottom: 15px; margin-bottom: 15px; border-bottom: 1px solid #d3d3d3;">
                <h3>用餐習慣：</h3>
                <div>
                    <label class="checkbox-option">
                        <input type="checkbox" name="dining_habits[alone]" value="1" checked>
                        <span class="checkbox-custom"></span>
                        <span>自己吃</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="dining_habits[not_alone]" value="1" checked>
                        <span class="checkbox-custom"></span>
                        <span>跟朋友吃</span>
                    </label>
                </div>
            </div>

            <!-- 噪音 -->
            <h3>
                噪音敏感度：（1-5分，5分代表非常需要安靜的環境）</h3>
            入睡：<input type="number" name="noise_sensitivity[sleep]" min="1" max="5" value="5">
            學習或工作：<input type="number" name="noise_sensitivity[study_or_work]" min="1" max="5" value="3">

            <hr style="border: none; border-bottom: 1px solid #d3d3d3; margin-bottom: 15px;">
            <!-- 鬧鐘使用習慣 -->
            <h3>鬧鐘使用習慣：</h3>
            <button type="button" value="0" data-group="alarm" onclick="toggleButtonGroup(this)">#不使用</button>
            <button type="button" value="1" data-group="alarm" onclick="toggleButtonGroup(this)">#響一下關閉
            </button>
            <button type="button" value="2" data-group="alarm" onclick="toggleButtonGroup(this)">#需要他人協助關閉
            </button>
            <br>

            <hr style="border: none; border-bottom: 1px solid #d3d3d3; margin-bottom: 15px;">
            <h3>燈光敏感度：</h3>
            <button type="button" value="0" data-group="light" onclick="toggleButtonGroup(this)">#開大燈
            </button>
            <button type="button" value="1" data-group="light" onclick="toggleButtonGroup(this)">#開小燈</button>
            <button type="button" value="2" data-group="light" onclick="toggleButtonGroup(this)">#全暗</button>
            <br>

            <hr style="border: none; border-bottom: 1px solid #d3d3d3; margin-bottom: 15px;">
            <h3>交友習慣：</h3>
            <button type="button" value="0" data-group="friendship" onclick="toggleButtonGroup(this)">#不會帶朋友回家
            </button>
            <button type="button" value="1" data-group="friendship" onclick="toggleButtonGroup(this)">
                #可能會帶朋友回家
            </button>
            <button type="button" value="2" data-group="friendship" onclick="toggleButtonGroup(this)">
                #會帶朋友回家
            </button>
            <br>

            <hr style="border: none; border-bottom: 1px solid #d3d3d3; margin-bottom: 15px;">
            <h3>天氣熱時：</h3>
            <button type="button" value="0" data-group="weather"
                    onclick="toggleButtonGroup(this); toggleTemperatureInput()">
                #不開冷氣
            </button>
            <button type="button" value="1" data-group="weather"
                    onclick="toggleButtonGroup(this); toggleTemperatureInput()">
                #不常開冷氣
            </button>
            <button type="button" value="2" data-group="weather"
                    onclick="toggleButtonGroup(this); toggleTemperatureInput()">
                #只有晚上睡覺開
            </button>
            <button type="button" value="3" data-group="weather"
                    onclick="toggleButtonGroup(this); toggleTemperatureInput()">
                #會開冷氣
            </button>
            <div id="temperature_input" class="hidden">
                <label>冷氣溫度：</label><input type="number" name="hot_weather_preference[temperature]" min="16"
                                               max="30"
                                               placeholder="輸入溫度">
            </div>

            <hr style="border: none; border-bottom: 1px solid #d3d3d3; margin-bottom: 15px;">
            <!-- 寵物 -->
            <h3>寵物：</h3>
            <input type="radio" name="has_pet" value="0" checked onclick="togglePetType()"> 無
            <input type="radio" name="has_pet" value="1" onclick="togglePetType()"> 有
            <div id="pet_type_input" class="hidden">
                <label>寵物種類：</label><input type="text" name="pet[pet_type]" placeholder="例如：狗">
            </div>

            <hr style="border: none; border-bottom: 1px solid #d3d3d3; margin-bottom: 15px;">
            <h3>濕度高時：</h3>
            <button type="button" value="0" class="selected" data-group="humidity"
                    onclick="toggleButtonGroup(this)">
                #不開除濕
            </button>
            <button type="button" value="1" data-group="humidity" onclick="toggleButtonGroup(this)">#不常開除溼
            </button>
            <button type="button" value="2" data-group="humidity" onclick="toggleButtonGroup(this)">#會開除濕
            </button>
            <br>

            <hr style="border: none; border-bottom: 1px solid #d3d3d3; margin-bottom: 15px;">
            <h3>興趣：</h3>
            <button type="button" value="sports" data-group="interest" class="selected"
                    onclick="toggleButtonGroup(this)">
                #運動
            </button>
            <button type="button" value="travel" data-group="interest" class="selected"
                    onclick="toggleButtonGroup(this)">
                #旅遊
            </button>
            <button type="button" value="reading" data-group="interest" onclick="toggleButtonGroup(this)">#閱讀
            </button>
            <button type="button" value="wine_tasting" data-group="interest" onclick="toggleButtonGroup(this)">#品酒
            </button>
            <button type="button" value="drama" data-group="interest" onclick="toggleButtonGroup(this)">#追劇
            </button>
            <button type="button" value="astrology" data-group="interest" onclick="toggleButtonGroup(this)">#占星
            </button>
            <button type="button" value="programming" data-group="interest" onclick="toggleButtonGroup(this)">#寫程式
            </button>
            <button type="button" value="hiking" data-group="interest" onclick="toggleButtonGroup(this)">#登山
            </button>
            <button type="button" value="gaming" data-group="interest" onclick="toggleButtonGroup(this)">#遊戲
            </button>
            <button type="button" value="painting" data-group="interest" onclick="toggleButtonGroup(this)">#繪畫
            </button>
            <button type="button" value="idol_chasing" data-group="interest" onclick="toggleButtonGroup(this)">#追星
            </button>
            <button type="button" value="music" data-group="interest" onclick="toggleButtonGroup(this)">#音樂
            </button>
            <br>

            <hr style="border: none; border-bottom: 1px solid #d3d3d3; margin-bottom: 15px;">
            <h3>我希望我的室友：</h3>
            <input type="text" id="roommate-preference" name="roommatePreference" maxlength="30"
                   placeholder="最多可以輸入30個字"
                   style="width: 100%; padding: 10px; margin-top: 10px; border: 1px solid #ccc; border-radius: 5px;">

            <button type="submit">送出</button>
        </form>
    </div>
</div>
<script src="js/header.js"></script>
<script src="js/habits.js"></script>
</body>
</html>

